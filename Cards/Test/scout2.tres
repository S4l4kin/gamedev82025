[gd_resource type="Resource" script_class="Card" load_steps=6 format=3 uid="uid://dannmlgy45xlf"]

[ext_resource type="Texture2D" uid="uid://brsc0s1ltstq4" path="res://Assets/Icons/Resources/scoutPic.jpg" id="1_wptvm"]
[ext_resource type="PackedScene" uid="uid://dec2i8wmuf6ur" path="res://Scenes/Models/Generic/Troll.tscn" id="2_4lwym"]
[ext_resource type="Script" uid="uid://dtj6f2ym5ac5b" path="res://Scripts/Resources/Card.gd" id="2_akm5d"]
[ext_resource type="Script" uid="uid://4mfc0j1jlnuy" path="res://Scripts/Predicates/UnitPredicate.gd" id="3_hy1dv"]

[sub_resource type="GDScript" id="GDScript_wptvm"]
script/source = "extends Unit
class_name scout2

var conquring_hexes : Array[Vector2i]

func on_post_move():
	var neighbours = GameManager.board_manager.get_neighbours(x,y)
	conquring_hexes.append(Vector2i(x,y))
	for neighbour : Hex in neighbours:
		conquring_hexes.append(neighbour.coord)
	extended_sight()

func extended_sight():
	var board = GameManager.board_manager
	for coord : Vector2i in conquring_hexes:
		board.fog.reveal_hex(coord.x, coord.y)
"

[resource]
script = ExtResource("2_akm5d")
name = "Scout2"
id = "scout2"
type = 1
cost = {
0: 1
}
card_image = ExtResource("1_wptvm")
description = "This is a scout that can see further than other creatures"
unit_type = 3
health = 3
speed = 2
model = ExtResource("2_4lwym")
custom_script = SubResource("GDScript_wptvm")
play_predicate = ExtResource("3_hy1dv")
metadata/_custom_type_script = "uid://dtj6f2ym5ac5b"
