[gd_scene load_steps=14 format=3 uid="uid://b5n43ee8xggw1"]

[ext_resource type="Script" uid="uid://1ie2vdhk6igc" path="res://Scripts/Renderer/ObjectRenderer.gd" id="1_mcn1t"]
[ext_resource type="PackedScene" uid="uid://btwqxn54ps0ie" path="res://Scenes/Models/TestModel.tscn" id="2_i3xjt"]
[ext_resource type="ArrayMesh" uid="uid://dku333w2w1vuk" path="res://Assets/Models/Hex/HexTile.res" id="3_qx1hg"]
[ext_resource type="Shader" uid="uid://da0yr61dab25m" path="res://Scripts/Shaders/object_renderer_shader.gdshader" id="4_njcbc"]
[ext_resource type="Texture2D" uid="uid://08hee1hgy24t" path="res://Assets/Icons/speed_mask.svg" id="5_cch7j"]
[ext_resource type="Texture2D" uid="uid://cv1t3f6dfui8o" path="res://Assets/mask_test.png" id="6_42nlf"]
[ext_resource type="Texture2D" uid="uid://5vcqtak3qdc7" path="res://Assets/Icons/speed_icon.svg" id="7_4dhcv"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_tpmiq"]
no_depth_test = true
shading_mode = 0
vertex_color_use_as_albedo = true

[sub_resource type="CylinderMesh" id="CylinderMesh_mcn1t"]
top_radius = 0.05
bottom_radius = 0.0
height = 0.01

[sub_resource type="MultiMesh" id="MultiMesh_i3xjt"]
transform_format = 1
use_colors = true
instance_count = 4
mesh = SubResource("CylinderMesh_mcn1t")
buffer = PackedFloat32Array(1, 0, 0, 1.38, 0, 1, 0, 0, 0, 0, 1, 0, 1, 0, 0, 1, 1, 0, 0, 0.465, 0, 1, 0, 0, 0, 0, 1, 0, 1, 0.27058825, 0, 1, 1, 0, 0, 0.69, 0, 1, 0, 0, 0, 0, 1, 0, 1, 0.64705884, 0, 1, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0.455, 1, 1, 0, 1)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_6vd22"]
render_priority = 0
shader = ExtResource("4_njcbc")
shader_parameter/offset = Vector2(0, 0)
shader_parameter/center = Vector2(0, 0)
shader_parameter/rotation = 0.0
shader_parameter/skew = 0.0
shader_parameter/scale = Vector2(1, 1)
shader_parameter/sprite = ExtResource("7_4dhcv")
shader_parameter/mask = ExtResource("5_cch7j")
shader_parameter/maskPallet = ExtResource("6_42nlf")

[sub_resource type="QuadMesh" id="QuadMesh_a7l81"]

[sub_resource type="ViewportTexture" id="ViewportTexture_ljuny"]
viewport_path = NodePath("NumericalPower/Viewport")

[node name="Model" type="Node3D"]
script = ExtResource("1_mcn1t")
model = ExtResource("2_i3xjt")
offsets = Array[PackedVector2Array]([PackedVector2Array(0, 0), PackedVector2Array(0.915, -0.035, -0.345, 0), PackedVector2Array(0.815, 0.025, -0.44, 0, 0, 0), PackedVector2Array(1.38, 0, 0.465, 0, 0.69, 0, 0, 0.455), PackedVector2Array(0.015, 0, 0, 0, 0, 0, 0, 0, 0, -0.315), PackedVector2Array(0.015, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -0.255), PackedVector2Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -0.22, 0, -0.495, 0), PackedVector2Array(-0.585, 0, 0.67, 0, -0.325, 0.61, 0.43, -0.595, 0.395, 0.51, -0.22, -0.545, -0.23, 0.3, 0.03, 0), PackedVector2Array(0, 0, 0.89, 0, 0.685, 0, 0.505, 0, 0.385, 0, 0.29, 0, 0, 0.29, 0, -0.23, 0, -0.355)])
show_offset = 4
current_offset = PackedVector2Array(1.38, 0, 0.465, 0, 0.69, 0, 0, 0.455)

[node name="Gizmo" type="MultiMeshInstance3D" parent="."]
material_override = SubResource("StandardMaterial3D_tpmiq")
multimesh = SubResource("MultiMesh_i3xjt")

[node name="HexTile" type="MeshInstance3D" parent="Gizmo"]
transform = Transform3D(-4.371139e-08, -1, -4.371139e-08, 0, -4.371139e-08, 1, -1, 4.371139e-08, 1.9106855e-15, 0, 0, 0)
mesh = ExtResource("3_qx1hg")
skeleton = NodePath("../../..")

[node name="ShaderPreview" type="MeshInstance3D" parent="Gizmo"]
material_override = SubResource("ShaderMaterial_6vd22")
mesh = SubResource("QuadMesh_a7l81")

[node name="NumericalPower" type="Sprite3D" parent="."]
transform = Transform3D(0.4, 0, 0, 0, 0.4, 0, 0, 0, 0.4, 0.7543679, 0, 0.50363874)
layers = 2
billboard = 1
no_depth_test = true
texture = SubResource("ViewportTexture_ljuny")

[node name="Viewport" type="SubViewport" parent="NumericalPower"]
own_world_3d = true
transparent_bg = true
size = Vector2i(256, 256)

[node name="background" type="ColorRect" parent="NumericalPower/Viewport"]
visible = false
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0.17, 0.17, 0.17, 1)

[node name="Border" type="ColorRect" parent="NumericalPower/Viewport"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -20.0
offset_top = -20.0
offset_right = 19.999878
offset_bottom = 20.0
grow_horizontal = 2
grow_vertical = 2
rotation = 0.7853982
scale = Vector2(4.5, 4.5)
pivot_offset = Vector2(20, 20)
color = Color(0.6955032, 0.6955031, 0.6955031, 1)

[node name="Fill" type="ColorRect" parent="NumericalPower/Viewport"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -20.0
offset_top = -20.0
offset_right = 19.999878
offset_bottom = 20.0
grow_horizontal = 2
grow_vertical = 2
rotation = 0.7853982
scale = Vector2(3.445, 3.445)
pivot_offset = Vector2(20, 20)
color = Color(0.35, 0.35, 0.35, 1)

[node name="Text" type="Label" parent="NumericalPower/Viewport"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -36.5
offset_top = -44.0
offset_right = 36.5
offset_bottom = 44.0
grow_horizontal = 2
grow_vertical = 2
theme_override_font_sizes/font_size = 64
text = "10"
horizontal_alignment = 1
